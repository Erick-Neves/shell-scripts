name: Deploy to Production

on:
  push:
    branches:
      - main  # ajuste conforme necess√°rio

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v2

    - name: Action-SSH
      uses: tiyee/action-ssh@v1.0.1
      with:
        # Command to execute on the remote server.
        command: docker ps
        # Hostname or IP address of the server.
        host: 191.96.251.3
        # Username for authentication.
        username: prod_user
        # Port number of the server.
        port: 22
        # File  string that contains a private key for either key-based or hostbased user authentication (OpenSSH format)
        privateKey: ${{ secrets.SSH_PRIVATE_KEY }}
